<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-performance-tests/results">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Results | Emergency Service for Mass Events</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://wfabjanczuk.github.io/esme/docs/performance-tests/results"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Results | Emergency Service for Mass Events"><meta data-rh="true" name="description" content="All the test runs eventually caused Messenger API to become unresponsive and failed on a timeout error from acquiring"><meta data-rh="true" property="og:description" content="All the test runs eventually caused Messenger API to become unresponsive and failed on a timeout error from acquiring"><link data-rh="true" rel="icon" href="/esme/icons/favicon.ico"><link data-rh="true" rel="canonical" href="https://wfabjanczuk.github.io/esme/docs/performance-tests/results"><link data-rh="true" rel="alternate" href="https://wfabjanczuk.github.io/esme/docs/performance-tests/results" hreflang="en"><link data-rh="true" rel="alternate" href="https://wfabjanczuk.github.io/esme/docs/performance-tests/results" hreflang="x-default"><link rel="stylesheet" href="/esme/assets/css/styles.7b09ca8a.css">
<link rel="preload" href="/esme/assets/js/runtime~main.7686b4eb.js" as="script">
<link rel="preload" href="/esme/assets/js/main.acdecd58.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/esme/"><b class="navbar__title text--truncate">ESME</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/esme/docs/category/analysis">Documentation</a><a class="navbar__item navbar__link" href="/esme/organizer-api">Organizer API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wfabjanczuk/esme" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/esme/docs/category/analysis">Analysis</a><button aria-label="Toggle the collapsible sidebar category &#x27;Analysis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/esme/docs/category/design">Design</a><button aria-label="Toggle the collapsible sidebar category &#x27;Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/esme/docs/category/implementation">Implementation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/esme/docs/development">Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/esme/docs/deployment">Deployment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/esme/docs/category/performance-tests">Performance tests</a><button aria-label="Toggle the collapsible sidebar category &#x27;Performance tests&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/esme/docs/performance-tests/scenario">Scenario</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/esme/docs/performance-tests/infrastructure">Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/esme/docs/performance-tests/results">Results</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/esme/docs/summary">Summary</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/esme/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/esme/docs/category/performance-tests"><span itemprop="name">Performance tests</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Results</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Results</h1><p>All the test runs eventually caused Messenger API to become unresponsive and failed on a timeout error from acquiring
a new WebSocket connection by one of the constantly added participant workers. Basic AWS monitoring graphs in the time
range of the test runs are shown below:</p><p><img loading="lazy" alt="organizer overview" src="/esme/assets/images/aws_monitoring-442d2af9e00a891510b706d137a3cc42.png" width="774" height="397" class="img_ev3q"></p><p>In total 9 valid tests has been run. Each set of configuration parameters: start chat interval <code>sci</code>, create participant
interval <code>cpi</code> and send message interval <code>smi</code> is repeated 3 times as summarized in the table below. The start chat
interval and create participant interval are constant in all test runs while send message interval varies from 100
milliseconds to 10 seconds.</p><table><thead><tr><th>sci <!-- -->[ms]</th><th>cpi <!-- -->[ms]</th><th>smi <!-- -->[ms]</th><th>repetitions</th></tr></thead><tbody><tr><td>10</td><td>20</td><td>100</td><td>3</td></tr><tr><td>10</td><td>20</td><td>1000</td><td>3</td></tr><tr><td>10</td><td>20</td><td>10000</td><td>3</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="100ms-send-message-interval">100ms send message interval<a href="#100ms-send-message-interval" class="hash-link" aria-label="Direct link to 100ms send message interval" title="Direct link to 100ms send message interval">​</a></h2><p><img loading="lazy" alt="graph 100ms" src="/esme/assets/images/graph_100-e39a8b9f52fd46f17ad3f94ca493befc.png" width="1667" height="1031" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1000ms-send-message-interval">1000ms send message interval<a href="#1000ms-send-message-interval" class="hash-link" aria-label="Direct link to 1000ms send message interval" title="Direct link to 1000ms send message interval">​</a></h2><p><img loading="lazy" alt="graph 1000ms" src="/esme/assets/images/graph_1000-05138f59dad65de0f62e4ff6a1806c42.png" width="1667" height="1031" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="10000ms-send-message-interval">10000ms send message interval<a href="#10000ms-send-message-interval" class="hash-link" aria-label="Direct link to 10000ms send message interval" title="Direct link to 10000ms send message interval">​</a></h2><p><img loading="lazy" alt="graph 10000ms" src="/esme/assets/images/graph_10000-c2eccd285051cdbe18257a572ab4159d.png" width="1667" height="1031" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="discussion">Discussion<a href="#discussion" class="hash-link" aria-label="Direct link to Discussion" title="Direct link to Discussion">​</a></h2><p>In the graphs for 100ms and 1000ms test runs it is clearly visible that the sent messages rate reaches a certain plateau
and after around 45 seconds the first timeout error from acquiring a new WebSocket connection occurs -- the default
handshake timeout in the WebSocket client used in the performance tests is 45 seconds.</p><p>The registered sent messages rate might be different from the rate of messages successfully processed by the system. To
improve quality of the performance test, organizer worker could read and report incoming user messages processed by the
Messenger API or even respond to participant workers. Moreover, the test scenario could be changed to set a pool of
organizers accepting chats.</p><p>The relationship between maximum message rate registered by the participant workers and active chats count at the moment
of the first Messenger API connection initialization timeout is depicted in the graph below:</p><p><img loading="lazy" alt="graph analysis" src="/esme/assets/images/graph_analysis-461e4bbbfdbc10fecb5ac293aa878bd3.png" width="1667" height="1031" class="img_ev3q"></p><p>In the future, configuring and running the performance test scenarios in the cloud could be automated in CI/CD process
to simplify obtaining more data points in the graph and better estimating the Messenger API throughput limits.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/esme/docs/performance-tests/infrastructure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Infrastructure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/esme/docs/summary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Summary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#100ms-send-message-interval" class="table-of-contents__link toc-highlight">100ms send message interval</a></li><li><a href="#1000ms-send-message-interval" class="table-of-contents__link toc-highlight">1000ms send message interval</a></li><li><a href="#10000ms-send-message-interval" class="table-of-contents__link toc-highlight">10000ms send message interval</a></li><li><a href="#discussion" class="table-of-contents__link toc-highlight">Discussion</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/esme/assets/js/runtime~main.7686b4eb.js"></script>
<script src="/esme/assets/js/main.acdecd58.js"></script>
</body>
</html>