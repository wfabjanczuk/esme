"use strict";(self.webpackChunksystem_docs=self.webpackChunksystem_docs||[]).push([[179],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(7294);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var c=n.createContext({}),u=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(c.Provider,{value:t},e.children)},l="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,s=e.mdxType,a=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),l=u(r),f=s,m=l["".concat(c,".").concat(f)]||l[f]||d[f]||a;return r?n.createElement(m,o(o({ref:t},p),{},{components:r})):n.createElement(m,o({ref:t},p))}));function m(e,t){var r=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var a=r.length,o=new Array(a);o[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[l]="string"==typeof e?e:s,o[1]=i;for(var u=2;u<a;u++)o[u]=r[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},4518:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>u});var n=r(7462),s=(r(7294),r(3905));const a={sidebar_position:3},o="Chat requests queue",i={unversionedId:"design/chat-requests-queue",id:"design/chat-requests-queue",title:"Chat requests queue",description:"To allow limiting simultaneous chats with participants, chat requests from participants are queued (FIFO) before the",source:"@site/docs/design/3-chat-requests-queue.md",sourceDirName:"design",slug:"/design/chat-requests-queue",permalink:"/esme/docs/design/chat-requests-queue",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docSidebar",previous:{title:"Databases",permalink:"/esme/docs/design/databases"},next:{title:"Backend services",permalink:"/esme/docs/design/backend-services"}},c={},u=[],p={toc:u},l="wrapper";function d(e){let{components:t,...r}=e;return(0,s.kt)(l,(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"chat-requests-queue"},"Chat requests queue"),(0,s.kt)("p",null,"To allow limiting simultaneous chats with participants, chat requests from participants are queued (FIFO) before the\nchats start. ",(0,s.kt)("a",{parentName:"p",href:"https://www.rabbitmq.com/"},"RabbitMQ")," has been chosen for this purpose as it is easy to setup and it is one\nof the most popular message brokers."),(0,s.kt)("p",null,"Note that Participant API database also stores some information about chat requests. The service needs to use a\npersistent lock to prevent the participant from requesting a new chat while his previous request is waiting in the queue\nor his chat is active. The lock is released when the organizer ends the chat."))}d.isMDXComponent=!0}}]);