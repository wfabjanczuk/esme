"use strict";(self.webpackChunksystem_docs=self.webpackChunksystem_docs||[]).push([[146],{3905:(e,a,t)=>{t.d(a,{Zo:()=>c,kt:()=>A});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var d=n.createContext({}),p=function(e){var a=n.useContext(d),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},c=function(e){var a=p(e.components);return n.createElement(d.Provider,{value:a},e.children)},l="mdxType",g={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},u=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,d=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),l=p(t),u=r,A=l["".concat(d,".").concat(u)]||l[u]||g[u]||s;return t?n.createElement(A,i(i({ref:a},c),{},{components:t})):n.createElement(A,i({ref:a},c))}));function A(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,i=new Array(s);i[0]=u;var o={};for(var d in a)hasOwnProperty.call(a,d)&&(o[d]=a[d]);o.originalType=e,o[l]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<s;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}u.displayName="MDXCreateElement"},301:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>g,frontMatter:()=>s,metadata:()=>o,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const s={sidebar_position:2},i="Databases",o={unversionedId:"design/databases",id:"design/databases",title:"Databases",description:"In order to meet requirement for organizers' and participants' data separation, system has two different PostgreSQL",source:"@site/docs/design/2-databases.md",sourceDirName:"design",slug:"/design/databases",permalink:"/esme/docs/design/databases",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docSidebar",previous:{title:"C4 model",permalink:"/esme/docs/design/c4-model"},next:{title:"Chat requests queue",permalink:"/esme/docs/design/chat-requests-queue"}},d={},p=[{value:"Organizer API database",id:"organizer-api-database",level:2},{value:"Participant API database",id:"participant-api-database",level:2},{value:"Messenger API database",id:"messenger-api-database",level:2}],c={toc:p},l="wrapper";function g(e){let{components:a,...s}=e;return(0,r.kt)(l,(0,n.Z)({},c,s,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"databases"},"Databases"),(0,r.kt)("p",null,"In order to meet requirement for organizers' and participants' data separation, system has two different PostgreSQL\ndatabase servers for services handling participants and organizers respectively. SQL is the default choice for CRUD\napplications like this and PostgreSQL is one of the most popular open-source solutions in the area."),(0,r.kt)("h2",{id:"organizer-api-database"},"Organizer API database"),(0,r.kt)("p",null,"Database for Organizer API stores agencies, their events, contacts, issues, comments,\nall the users including administrators and changelogs documenting modifications of system entities."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"organizers database",src:t(3315).Z,width:"822",height:"842"})),(0,r.kt)("h2",{id:"participant-api-database"},"Participant API database"),(0,r.kt)("p",null,"Participant API database consists of users and chat request locks to prevent participants from repeatedly sending\nrequests for help on the same event."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"participants database",src:t(5589).Z,width:"425",height:"162"})),(0,r.kt)("h2",{id:"messenger-api-database"},"Messenger API database"),(0,r.kt)("p",null,"Database containing chats and messages is a different case. Messenger API data does not\nneed table joins nor transactions, the structure of its data is vulnerable to frequent changes during the development of\nthe system and messages may vary in structure and size. In the future, each message might be stored with nested\ninformation available for quick retrieval, for example file attachments or metadata describing forms and clickable\nbuttons triggering custom actions in chat (like starting a video call)."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"messenger database",src:t(9543).Z,width:"422",height:"212"})))}g.isMDXComponent=!0},9543:(e,a,t)=>{t.d(a,{Z:()=>n});const n="data:image/png;base64,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"},3315:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/organizer_db.drawio-20f338e4898564d5f305eaba2441776e.png"},5589:(e,a,t)=>{t.d(a,{Z:()=>n});const n="data:image/png;base64,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"}}]);